<title>can.derive.List.filter Benchmarks</title>
<h1>can.derive.List.filter Benchmarks</h1>

<style type="text/css">
    ul {
        padding: 0;
    }
    ul li {
        list-style: none;
    }
    table {
        font-family: monospace;
        border-collapse: collapse;
    }

    table tr:first-child {
        text-align: center;
    }

    table tr {
        text-align: right;
    }

    th, td {
        padding: 10px;
        border: 1px solid #999;
        border-spacing: 0;
    }
</style>

<script id="benchmark-app" type="text/stache" can-autorender>
    <benchmark-options></benchmark-options>
</script>

<script id="benchmark-options-template" type="text/stache">
    <ul>
        <li>
            <label>
                <input type="checkbox" can-value="{options.runNativePopulate}">
                Benchmark native populate?
            </label>
            <label>
                <input type="checkbox" can-value="{options.runNativeUpdate}">
                Benchmark native update?
            </label>
            <label>
                <input type="checkbox" can-value="{options.runDerivePopulate}">
                Benchmark derive populate?
            </label>
            <label>
                <input type="checkbox" can-value="{options.runDeriveUpdate}">
                Benchmark derive update?
            </label>
            <label>
                <input type="checkbox" can-value="{options.startOnPageLoad}">
                Start on page load?
            </label>
        </li>
    </ul>

    <button can-click="{startBenchmarks}" {{#if running}}disabled{{/if}}>
        {{#if running}}
            Running...
        {{else}}
            Start benchmarks
        {{/if}}
    </button>

    <button can-click="{resetOptions}">
        Reset options
    </button>

    <h3>Results</h3>

    <table>
        <tr>
            <th></th>
            <th>
                Populate (native)
            </th>
            <th>
                Update (native)
            </th>
            <th>
                Populate (derive)
            </th>
            <th>
                Update (derive)
            </th>
            <th>
                # of updates to break even
            </th>
        </tr>
        {{#each testResults}}
            <tr>
                <th>{{numberOfItems}}</th>
                <td>{{nativePopulate}}</td>
                <td>{{nativeUpdate}}</td>
                <td>{{derivePopulate}}</td>
                <td>{{deriveUpdate}}</td>
                <td>{{breakEvenUpdateCount}}</td>
            </tr>
        {{/each}}
    </table>
</script>

<script type="text/javascript" src="../node_modules/steal/steal.js"  main="list/list_benchmark"></script>
